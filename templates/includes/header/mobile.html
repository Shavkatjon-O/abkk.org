{% load static %}
{% load i18n %}

<!-- MENU START -->
<div class="hidden xl:hidden absolute uppercase w-full z-50 space-y-1 px-2 py-8 shadow-sm border-y border-y-gray-300 bg-white" id="mobile-menu">
  <div class="w-full px-2 mb-4 flex justify-end items-center">
    <form action="{% url 'set_language' %}" class="w-full" method="post">
      {% csrf_token %}
      <div class="relative inline-block w-full">
        <select name="language" onchange="this.form.submit()"
                class="block px-2 w-full cursor-pointer focus:border-gray-400 border-gray-400 appearance-none focus:ring-0 rounded-sm">
          {% get_current_language as LANGUAGE_CODE %}
          {% get_available_languages as LANGUAGES %}
          {% for lang in LANGUAGES %}
            <option value="{{ lang.0 }}" {% if lang.0 == LANGUAGE_CODE %}selected{% endif %}>
              {{ lang.1 }}
            </option>
          {% endfor %}
        </select>
        <input type="hidden" name="next" value="{{ request.path }}">
      </div>
    </form>
  </div>

  <div class="group cursor-pointer">
    <div class="menuItems w-full p-4 flex justify-between items-center hover:bg-gray-100">
      <span class="font-medium">{% trans 'о нас' %}</span>
      <svg class="menuItemArrow transition duration-200 rotate-90 w-5 h-5 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
      </svg>
    </div>
    <div class="subMenu hidden px-8 text-sm font-semibold text-gray-500">
      <a href="{% url 'about_confederation' %}" class="block border-b border-gray-200 py-3 hover:text-custom-green">
        <span>{% trans 'о азиатской конфедерации белбогли кураш' %}</span>
      </a>
      <a href="{% url 'about_guides' %}" class="block border-b border-gray-200 py-3 hover:text-custom-green">
        <span>{% trans 'руководства' %}</span>
      </a>
      <a href="{% url 'about_documents' %}" class="block border-b border-gray-200 py-3 hover:text-custom-green">
        <span>{% trans 'учредительные документы' %}</span>
      </a>
      <a href="{% url 'about_regulations' %}" class="block border-b border-gray-200 py-3 hover:text-custom-green">
        <span>{% trans 'устав' %}</span>
      </a>
      <a href="{% url 'about_symbols' %}" class="block border-b border-gray-200 py-3 hover:text-custom-green">
        <span>{% trans 'символы азиатской конфедерации белбогли кураш' %}</span>
      </a>
      <a href="{% url 'about_membership' %}" class="block border-b border-gray-200 py-3 hover:text-custom-green">
        <span>{% trans 'членство в конфедерации' %}</span>
      </a>
    </div>
  </div>

  <div class="group cursor-pointer">
    <div class="menuItems w-full p-4 flex justify-between items-center hover:bg-gray-100">
      <span class="font-medium">{% trans 'белбогли кураш' %}</span>
      <svg class="menuItemArrow transition duration-200 rotate-90 w-5 h-5 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
      </svg>
    </div>
    <div class="subMenu hidden px-8 text-sm font-semibold text-gray-500">
      <a href="{% url 'kurash_history' %}" class="block border-b border-gray-200 py-3 hover:text-custom-green">
        <span>{% trans 'история белбогли кураш' %}</span>
      </a>
      <a href="{% url 'kurash_rules' %}" class="block border-b border-gray-200 py-3 hover:text-custom-green">
        <span>{% trans 'правила белбогли кураш' %}</span>
      </a>
      <a href="{% url 'kurash_provisions' %}" class="block border-b border-gray-200 py-3 hover:text-custom-green">
        <span>{% trans 'положения' %}</span>
      </a>
      <a href="" class="block border-b border-gray-200 py-3 hover:text-custom-green">
        <span>{% trans 'антидопинг' %}</span>
      </a>
    </div>
  </div>

  <div class="group cursor-pointer">
    <div class="menuItems w-full p-4 flex justify-between items-center hover:bg-gray-100">
      <span class="font-medium">{% trans 'соревнования' %}</span>
      <svg class="menuItemArrow transition duration-200 rotate-90 w-5 h-5 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
      </svg>
    </div>
    <div class="subMenu hidden px-8 text-sm font-semibold text-gray-500">
      <a href="{% url 'competition_calendars' %}" class="block border-b border-gray-200 py-3 hover:text-custom-green">
        <span>{% trans 'календарь соревнований' %}</span>
      </a>
      <a href="{% url 'competition_reports' %}" class="block border-b border-gray-200 py-3 hover:text-custom-green">
        <span>{% trans 'протоколы соревнований' %}</span>
      </a>
      <a href="{% url 'competition_documents' %}" class="block border-b border-gray-200 py-3 hover:text-custom-green">
        <span>{% trans 'документы о соревнованиях' %}</span>
      </a>
    </div>
  </div>

  <div class="group cursor-pointer">
    <div class="menuItems w-full p-4 flex justify-between items-center hover:bg-gray-100">
      <span class="font-medium">{% trans 'мероприятия' %}</span>
      <svg class="menuItemArrow transition duration-200 rotate-90 w-5 h-5 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
      </svg>
    </div>
    <div class="subMenu hidden px-8 text-sm font-semibold text-gray-500">
      <a href="{% url 'events_announcements' %}" class="block border-b border-gray-200 py-3 hover:text-custom-green">
        <span>{% trans 'анонс' %}</span>
      </a>
      <a href="" class="block border-b border-gray-200 py-3 hover:text-custom-green">
        <span>{% trans 'мероприятия' %}</span>
      </a>
      <a href="{% url 'events_about_us' %}" class="block border-b border-gray-200 py-3 hover:text-custom-green">
        <span>{% trans 'сми о нас' %}</span>
      </a>
    </div>
  </div>

  <div class="group cursor-pointer">
    <div class="menuItems w-full p-4 flex justify-between items-center hover:bg-gray-100">
      <span class="font-medium">{% trans 'галерея' %}</span>
      <svg class="menuItemArrow transition duration-200 rotate-90 w-5 h-5 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
      </svg>
    </div>
    <div class="subMenu hidden px-8 text-sm font-semibold text-gray-500">
      <a href="{% url 'gallery_video' %}" class="block border-b border-gray-200 py-3 hover:text-custom-green">
        <span>{% trans 'видео' %}</span>
      </a>
      <a href="{% url 'gallery_photo' %}" class="block border-b border-gray-200 py-3 hover:text-custom-green">
        <span>{% trans 'фото' %}</span>
      </a>
    </div>
  </div>

  <div class="group cursor-pointer">
    <div class="menuItems w-full p-4 flex justify-between items-center hover:bg-gray-100">
      <span class="font-medium">{% trans 'контакты' %}</span>
      <svg class="menuItemArrow transition duration-200 rotate-90 w-5 h-5 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
      </svg>
    </div>
    <div class="subMenu hidden px-8 text-sm font-semibold text-gray-500">
      <a href="{% url 'contacts' %}" class="block border-b border-gray-200 py-3 hover:text-custom-green">
        <span>{% trans 'контактная связь' %}</span>
      </a>
    </div>
  </div>
</div>
<!-- MENU END -->

<script>
  const menuButton = document.getElementById('mobile-menu-button');
  const mobileMenu = document.getElementById('mobile-menu');
  const menuItems = document.querySelectorAll('.menuItems');

  menuButton.addEventListener('click', () => {
    mobileMenu.classList.toggle('hidden');
  });

  menuItems.forEach((item) => {
    const subMenu = item.parentNode.querySelector('.subMenu');
    const menuItemArrow = item.parentElement.querySelector('.menuItemArrow');

    item.addEventListener('click', (event) => {
      event.preventDefault();
      subMenu.classList.toggle('hidden');
      menuItemArrow.classList.toggle('rotate-90');
    });
  });
</script>
