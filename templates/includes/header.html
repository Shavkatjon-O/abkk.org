{% load static %}
{% load i18n %}

<header class="h-32 px-8 flex justify-between items-center">
  <!-- logo -->
  <div><a href=""><img class="w-52" src="{% static 'img/logo.png' %}"></a></div>
  <!-- navbar -->
  <nav class="hidden xl:flex uppercase space-x-6">
    <div class="flex items-center justify-center">
      <div class="relative group cursor-pointer">
        <a href="{% url 'confederation' %}" class="p-4 font-medium transition duration-300 hover:bg-gray-100">–æ –Ω–∞—Å</a>
        <div class="space-y-2 absolute z-50 p-4 mt-4 text-sm font-semibold shadow-xl opacity-0 translate-y-2 transition-all
                    w-max duration-300 ease-in-out invisible group-hover:visible group-hover:opacity-100 group-hover:translate-y-0
                    flex flex-col bg-white text-gray-500">
            <a href="{% url 'confederation' %}" class="block border-b border-gray-200 py-2 hover:text-black">–æ –∞–∑–∏–∞—Ç—Å–∫–æ–π –∫–æ–Ω—Ñ–µ–¥–µ—Ä–∞—Ü–∏–∏ –±–µ–ª–±–æ–≥–ª–∏ –∫—É—Ä–∞—à</a>
            <a href="{% url 'guides' %}" class="block border-b border-gray-200 py-2 hover:text-black">—Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞</a>
            <a href="{% url 'documents' %}" class="block border-b border-gray-200 py-2 hover:text-black">—É—á—Ä–µ–¥–∏—Ç–µ–ª—å–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã</a>
            <a href="{% url 'regulations' %}" class="block border-b border-gray-200 py-2 hover:text-black">—É—Å—Ç–∞–≤</a>
            <a href="{% url 'symbols' %}" class="block border-b border-gray-200 py-2 hover:text-black">—Å–∏–º–≤–æ–ª—ã –∞–∑–∏–∞—Ç—Å–∫–æ–π –∫–æ–Ω—Ñ–µ–¥–µ—Ä–∞—Ü–∏–∏ –±–µ–ª–±–æ–≥–ª–∏ –∫—É—Ä–∞—à</a>
            <a href="{% url 'membership' %}" class="block py-2 hover:text-black">—á–ª–µ–Ω—Å—Ç–≤–æ –≤ –∫–æ–Ω—Ñ–µ–¥–µ—Ä–∞—Ü–∏–∏</a>
        </div>
      </div>
      <div class="relative group cursor-pointer">
        <a href="" class="p-4 font-medium transition duration-300 hover:bg-gray-100">–±–µ–ª–±–æ–≥–ª–∏ –∫—É—Ä–∞—à</a>
        <div class="space-y-2 absolute z-50 p-4 mt-4 text-sm font-semibold shadow-xl opacity-0 translate-y-2
                    transition-all w-max duration-300 ease-in-out invisible group-hover:visible group-hover:opacity-100
                    group-hover:translate-y-0 flex flex-col bg-white text-gray-500">
            <a href="" class="block border-b border-gray-200 py-2 hover:text-black">–∏—Å—Ç–æ—Ä–∏—è –±–µ–ª–±–æ–≥–ª–∏ –∫—É—Ä–∞—à</a>
            <a href="" class="block border-b border-gray-200 py-2 hover:text-black">–ø—Ä–∞–≤–∏–ª–∞ –±–µ–ª–±–æ–≥–ª–∏ –∫—É—Ä–∞—à</a>
            <a href="" class="block border-b border-gray-200 py-2 hover:text-black">–ø–æ–ª–æ–∂–µ–Ω–∏—è</a>
            <a href="" class="block py-2 hover:text-black">–∞–Ω—Ç–∏–¥–æ–ø–∏–Ω–≥</a>
        </div>
      </div>
      <div class="relative group cursor-pointer">
        <a href="" class="p-4 font-medium transition duration-300 hover:bg-gray-100">—Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏—è</a>
        <div class="space-y-2 absolute z-50 p-4 mt-4 text-sm font-semibold shadow-xl opacity-0 translate-y-2
                    transition-all w-max duration-300 ease-in-out invisible group-hover:visible group-hover:opacity-100
                    group-hover:translate-y-0 flex flex-col bg-white text-gray-500">
            <a href="" class="block border-b border-gray-200 py-2 hover:text-black">–∫–∞–ª–µ–Ω–¥–∞—Ä—å —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏–π</a>
            <a href="" class="block border-b border-gray-200 py-2 hover:text-black">–ø—Ä–æ—Ç–æ–∫–æ–ª—ã —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏–π</a>
            <a href="" class="block py-2 hover:text-black">–¥–æ–∫—É–º–µ–Ω—Ç—ã –æ —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏—è—Ö</a>
        </div>
      </div>
      <div class="relative group cursor-pointer">
        <a href="" class="p-4 font-medium transition duration-300 hover:bg-gray-100">–º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è</a>
        <div class="space-y-2 absolute z-50 p-4 mt-4 text-sm font-semibold shadow-xl opacity-0 translate-y-2
                    transition-all w-max duration-300 ease-in-out invisible group-hover:visible group-hover:opacity-100
                    group-hover:translate-y-0 flex flex-col bg-white text-gray-500">
            <a href="" class="block border-b border-gray-200 py-2 hover:text-black">–∞–Ω–æ–Ω—Å</a>
            <a href="" class="block border-b border-gray-200 py-2 hover:text-black">–º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è</a>
            <a href="" class="block py-2 hover:text-black">—Å–º–∏ –æ –Ω–∞—Å</a>
        </div>
      </div>
      <div class="relative group cursor-pointer">
        <a href="" class="p-4 font-medium transition duration-300 hover:bg-gray-100">–≥–∞–ª–µ—Ä–µ—è</a>
        <div class="space-y-2 absolute z-50 p-4 mt-4 text-sm font-semibold shadow-xl opacity-0 translate-y-2
                    transition-all w-max duration-300 ease-in-out invisible group-hover:visible group-hover:opacity-100
                    group-hover:translate-y-0 flex flex-col bg-white text-gray-500">
            <a href="" class="block border-b border-gray-200 py-2 hover:text-black">–≤–∏–¥–µ–æ</a>
            <a href="" class="block py-2 hover:text-black">—Ñ–æ—Ç–æ</a>
        </div>
      </div>
      <div class="relative group cursor-pointer">
        <a href="" class="p-4 font-medium transition duration-300 hover:bg-gray-100">–∫–æ–Ω—Ç–∞–∫—Ç—ã</a>
        <div class="space-y-2 absolute z-50 p-4 mt-4 text-sm font-semibold shadow-xl opacity-0 translate-y-2
                    transition-all w-max duration-300 ease-in-out invisible group-hover:visible group-hover:opacity-100
                    group-hover:translate-y-0 flex flex-col bg-white text-gray-500">
            <a href="" class="block py-2 hover:text-black">–∫–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è —Å–≤—è–∑—å</a>
        </div>
      </div>
    </div>
  </nav>

  <div class="w-50 hidden xl:flex justify-end items-center">
    <form action="{% url 'set_language' %}" method="post">
      {% csrf_token %}
      <div class="relative inline-block w-full">
        <select name="language" onchange="this.form.submit()"
                class="block w-24 cursor-pointer focus:border-gray-400 border-gray-400 appearance-none focus:ring-0 rounded-sm">
          {% get_current_language as LANGUAGE_CODE %}
          {% get_available_languages as LANGUAGES %}
          {% for lang in LANGUAGES %}
            <option value="{{ lang.0 }}" {% if lang.0 == LANGUAGE_CODE %}selected{% endif %}>
              {% if lang.0 == 'en' %}üá¨üáß EN{% elif lang.0 == 'ru' %}üá∑üá∫ RU{% elif lang.0 == 'uz' %}üá∫üáø UZ{% endif %}
            </option>
          {% endfor %}
        </select>
        <input type="hidden" name="next" value="{{ request.path }}">
      </div>
    </form>
  </div>

  <div class="xl:hidden">
    <button id="mobile-menu-button" class="w-8 h-4 flex flex-col justify-between">
      <div class="w-full h-0.5 bg-gray-500 transition-transform transform"></div>
      <div class="w-full h-0.5 bg-gray-500 transition-transform transform"></div>
      <div class="w-full h-0.5 bg-gray-500 transition-transform transform"></div>
    </button>
  </div>

</header>

<div class="hidden xl:hidden absolute uppercase shadow-sm w-full z-50 space-y-1 px-4 py-8 border-t border-t-gray-300 bg-white" id="mobile-menu">
  <div class="w-full px-2 mb-2 flex justify-end items-center">
    <form action="{% url 'set_language' %}" class="w-full" method="post">
      {% csrf_token %}
      <div class="relative inline-block w-full">
        <select name="language" onchange="this.form.submit()"
                class="block px-2 w-full cursor-pointer focus:border-gray-400 border-gray-400 appearance-none focus:ring-0 rounded-sm">
          {% get_current_language as LANGUAGE_CODE %}
          {% get_available_languages as LANGUAGES %}
          {% for lang in LANGUAGES %}
            <option value="{{ lang.0 }}" {% if lang.0 == LANGUAGE_CODE %}selected{% endif %}>
              {% if lang.0 == 'en' %}üá¨üáß{% elif lang.0 == 'ru' %}üá∑üá∫{% elif lang.0 == 'uz' %}üá∫üáø{% endif %} {{ lang.1 }}
            </option>
          {% endfor %}
        </select>
        <input type="hidden" name="next" value="{{ request.path }}">
      </div>
    </form>
  </div>
  <div class="group cursor-pointer">
    <div class="menuItems w-full p-4 flex justify-between items-center hover:bg-gray-100">
      <span class="font-medium">–æ –Ω–∞—Å</span>
      <svg class="menuItemArrow transition duration-200 rotate-90 w-5 h-5 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
      </svg>
    </div>
    <div class="subMenu hidden px-8 text-sm font-semibold text-gray-500">
      <a href="{% url 'confederation' %}" class="block border-b border-gray-200 py-3 hover:text-black">–æ –∞–∑–∏–∞—Ç—Å–∫–æ–π –∫–æ–Ω—Ñ–µ–¥–µ—Ä–∞—Ü–∏–∏ –±–µ–ª–±–æ–≥–ª–∏ –∫—É—Ä–∞—à</a>
      <a href="{% url 'guides' %}" class="block border-b border-gray-200 py-3 hover:text-black">—Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞</a>
      <a href="{% url 'documents' %}" class="block border-b border-gray-200 py-3 hover:text-black">—É—á—Ä–µ–¥–∏—Ç–µ–ª—å–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã</a>
      <a href="{% url 'regulations' %}" class="block border-b border-gray-200 py-3 hover:text-black">—É—Å—Ç–∞–≤</a>
      <a href="{% url 'symbols' %}" class="block border-b border-gray-200 py-3 hover:text-black">—Å–∏–º–≤–æ–ª—ã –∞–∑–∏–∞—Ç—Å–∫–æ–π –∫–æ–Ω—Ñ–µ–¥–µ—Ä–∞—Ü–∏–∏ –±–µ–ª–±–æ–≥–ª–∏ –∫—É—Ä–∞—à</a>
      <a href="{% url 'membership' %}" class="block border-b border-gray-200 py-3 hover:text-black">—á–ª–µ–Ω—Å—Ç–≤–æ –≤ –∫–æ–Ω—Ñ–µ–¥–µ—Ä–∞—Ü–∏–∏</a>
    </div>
  </div>
  <div class="group cursor-pointer">
    <div class="menuItems w-full p-4 flex justify-between items-center hover:bg-gray-100">
      <span class="font-medium">–±–µ–ª–±–æ–≥–ª–∏ –∫—É—Ä–∞—à</span>
      <svg class="menuItemArrow transition duration-200 rotate-90 w-5 h-5 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
      </svg>
    </div>
    <div class="subMenu hidden px-8 text-sm font-semibold text-gray-500">
      <a href="" class="block border-b border-gray-200 py-3 hover:text-black">–∏—Å—Ç–æ—Ä–∏—è –±–µ–ª–±–æ–≥–ª–∏ –∫—É—Ä–∞—à</a>
      <a href="" class="block border-b border-gray-200 py-3 hover:text-black">–ø—Ä–∞–≤–∏–ª–∞ –±–µ–ª–±–æ–≥–ª–∏ –∫—É—Ä–∞—à</a>
      <a href="" class="block border-b border-gray-200 py-3 hover:text-black">–ø–æ–ª–æ–∂–µ–Ω–∏—è</a>
      <a href="" class="block border-b border-gray-200 py-3 hover:text-black">–∞–Ω—Ç–∏–¥–æ–ø–∏–Ω–≥</a>
    </div>
  </div>
  <div class="group cursor-pointer">
    <div class="menuItems w-full p-4 flex justify-between items-center hover:bg-gray-100">
      <span class="font-medium">—Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏—è</span>
      <svg class="menuItemArrow transition duration-200 rotate-90 w-5 h-5 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
      </svg>
    </div>
    <div class="subMenu hidden px-8 text-sm font-semibold text-gray-500">
      <a href="" class="block border-b border-gray-200 py-3 hover:text-black">–∫–∞–ª–µ–Ω–¥–∞—Ä—å —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏–π</a>
      <a href="" class="block border-b border-gray-200 py-3 hover:text-black">–ø—Ä–æ—Ç–æ–∫–æ–ª—ã —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏–π</a>
      <a href="" class="block border-b border-gray-200 py-3 hover:text-black">–¥–æ–∫—É–º–µ–Ω—Ç—ã –æ —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏—è—Ö</a>
    </div>
  </div>
  <div class="group cursor-pointer">
    <div class="menuItems w-full p-4 flex justify-between items-center hover:bg-gray-100">
      <span class="font-medium">–º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è</span>
      <svg class="menuItemArrow transition duration-200 rotate-90 w-5 h-5 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
      </svg>
    </div>
    <div class="subMenu hidden px-8 text-sm font-semibold text-gray-500">
      <a href="" class="block border-b border-gray-200 py-3 hover:text-black">–∞–Ω–æ–Ω—Å</a>
      <a href="" class="block border-b border-gray-200 py-3 hover:text-black">–º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è</a>
      <a href="" class="block border-b border-gray-200 py-3 hover:text-black">—Å–º–∏ –æ –Ω–∞—Å</a>
    </div>
  </div>
  <div class="group cursor-pointer">
    <div class="menuItems w-full p-4 flex justify-between items-center hover:bg-gray-100">
      <span class="font-medium">–≥–∞–ª–µ—Ä–µ—è</span>
      <svg class="menuItemArrow transition duration-200 rotate-90 w-5 h-5 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
      </svg>
    </div>
    <div class="subMenu hidden px-8 text-sm font-semibold text-gray-500">
      <a href="" class="block border-b border-gray-200 py-3 hover:text-black">–≤–∏–¥–µ–æ</a>
      <a href="" class="block border-b border-gray-200 py-3 hover:text-black">—Ñ–æ—Ç–æ</a>
    </div>
  </div>
  <div class="group cursor-pointer">
    <div class="menuItems w-full p-4 flex justify-between items-center hover:bg-gray-100">
      <span class="font-medium">–∫–æ–Ω—Ç–∞–∫—Ç—ã</span>
      <svg class="menuItemArrow transition duration-200 rotate-90 w-5 h-5 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
      </svg>
    </div>
    <div class="subMenu hidden px-8 text-sm font-semibold text-gray-500">
      <a href="" class="block border-b border-gray-200 py-3 hover:text-black">–∫–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è —Å–≤—è–∑—å</a>
    </div>
  </div>
</div>

<script>
  const menuButton = document.getElementById('mobile-menu-button');
  const mobileMenu = document.getElementById('mobile-menu');
  const menuItems = document.querySelectorAll('.menuItems');

  menuButton.addEventListener('click', () => {
    mobileMenu.classList.toggle('hidden');
  });

  menuItems.forEach((item) => {
    const subMenu = item.parentNode.querySelector('.subMenu');
    const menuItemArrow = item.parentElement.querySelector('.menuItemArrow');

    item.addEventListener('click', (event) => {
      event.preventDefault();
      subMenu.classList.toggle('hidden');
      menuItemArrow.classList.toggle('rotate-90');
    });
  });
</script>
